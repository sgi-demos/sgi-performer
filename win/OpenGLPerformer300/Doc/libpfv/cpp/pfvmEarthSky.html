<HTML>
<HEAD>
<TITLE>pfvmEarthSky</TITLE>
</HEAD>
<BODY>
<H1>pfvmEarthSky</H1>
<HR>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
pfvmEarthSky(3pf)                               pfvmEarthSky(3pf)




</PRE>
<H2>NAME</H2><PRE>
       <B>pfvmEarthSky</B> - EarthSky module for pfvViewer


</PRE>
<H2>FUNCTION SPECIFICATION</H2><PRE>
       #include &lt;Performer/pfvm/pfvmEarthSky.h&gt;

                     <B>pfvmEarthSky::pfvmEarthSky</B>();

       pfEarthSky*   <B>pfvmEarthSky::getESky</B>();


</PRE>
<H2>PARENT CLASS FUNCTIONS</H2><PRE>
       The  OpenGL  Performer  class <B>pfvmEarthSky</B> is derived from
       the parent class <B>pfvModule</B>, so each of these member  func-
       tions  of  class  <B>pfvModule</B>  are also directly usable with
       objects of class <B>pfvmEarthSky</B>.   This  is  also  true  for
       ancestor classes of class <B>pfvModule</B>.

       int            <B>pfvModule::getScope</B>();
       int            <B>pfvModule::getScopeIndex</B>();
       pfvObject*     <B>pfvModule::getScopeTarget</B>();
       void           <B>pfvModule::bindCallback</B>(int which);
       void           <B>pfvModule::unbindCallback</B>(int which);
       int            <B>pfvModule::getCBMask</B>();
       virtual void   <B>pfvModule::preConfig</B>();
       virtual void   <B>pfvModule::postConfig</B>();
       virtual void   <B>pfvModule::enterView</B>(pfvView*v);
       virtual void   <B>pfvModule::exitView</B>(pfvView*v);
       virtual void   <B>pfvModule::enterWorld</B>();
       virtual void   <B>pfvModule::exitWorld</B>();
       virtual void   <B>pfvModule::sync</B>();
       virtual void   <B>pfvModule::frame</B>();
       virtual void   <B>pfvModule::preCull</B>(pfvDispChan*chan);
       virtual void   <B>pfvModule::postCull</B>(pfvDispChan*chan);
       virtual void   <B>pfvModule::preDraw</B>(pfvDispChan*chan);
       virtual void   <B>pfvModule::postDraw</B>(pfvDispChan*chan);
       virtual void   <B>pfvModule::overlay</B>(pfvDispChan*chan);
       int            <B>pfvModule::bindKeys</B>(char*keys);
       int            <B>pfvModule::unbindKeys</B>(char*keys)
       char*          <B>pfvModule::getEventMask</B>()
       void           <B>pfvModule::setEventMask</B>(char* str);
       virtual int    <B>pfvModule::handleEvent</B>(int evType,
                        char key);
       uint64_t       <B>pfvModule::getViewMask</B>();


       Since the class <B>pfvModule</B> is itself derived from the  par-
       ent  class  <B>pfvobject</B>,  objects  of class <B>pfvmEarthSky</B> can
       also be used with these functions designed for objects  of
       class <B>pfvobject</B>.

       virtual int   <B>pfvObject::parseXml</B>(pfvXmlNode*xml);
       virtual int   <B>pfvObject::setXmlField</B>(pfvXmlNode*xml);
       char*         <B>pfvObject::getName</B>();
       void          <B>pfvObject::setName</B>(char*_name);

       void*   <B>pfObject::operator</B> <B>new</B>(size_t, void *arena);
       void*   <B>pfObject::operator</B>     <B>new</B>(size_t,      pfFluxMem-
                 ory *fmem);
       void    <B>pfObject::setUserData</B>(void *data);
       void    <B>pfObject::setUserData</B>(int slot, void *data);
       void*   <B>pfObject::getUserData</B>(pfObject *obj);
       void*   <B>pfObject::getUserData</B>(pfObject *obj, int slot);
       int     <B>pfObject::getNumUserData</B>();


       Since the class <B>pfObject</B> is itself derived from the parent
       class <B>pfMemory</B>, objects of class <B>pfvmEarthSky</B> can also  be
       used  with  these  functions designed for objects of class
       <B>pfMemory</B>.

       void*          <B>pfMemory::getData</B>(const void *ptr);
       pfType *       <B>pfMemory::getType</B>();
       int            <B>pfMemory::isOfType</B>(pfType *type);
       int            <B>pfMemory::isExactType</B>(pfType *type);
       const char *   <B>pfMemory::getTypeName</B>();
       int            <B>pfMemory::copy</B>(pfMemory *src);
       int            <B>pfMemory::compare</B>(const pfMemory *mem);
       void           <B>pfMemory::print</B>(uint which,   uint verbose,
                        char *prefix, FILE *file);
       int            <B>pfMemory::getArena</B>(void *ptr);
       void*          <B>pfMemory::getArena</B>();
       int            <B>pfMemory::ref</B>();
       int            <B>pfMemory::unref</B>();
       int            <B>pfMemory::unrefDelete</B>();
       int            <B>pfMemory::unrefGetRef</B>();
       int            <B>pfMemory::getRef</B>();
       int            <B>pfMemory::checkDelete</B>();
       int            <B>pfMemory::isFluxed</B>();
       void *         <B>pfMemory::getArena</B>();
       int            <B>pfMemory::getSize</B>();


</PRE>
<H2>DESCRIPTION</H2><PRE>
       pfvmEarthSky  is  a  module  wrapper around the pfEarthSky
       class. It allows colorful earth and sky backgrounds to  be
       easily added to channels in pfvViewer applications.

       <B>getESky()</B>  returns a pointer to the pfEarthSky object cre-
       ated by this module. Note that if this  method  is  called
       before  module's  postConfig  callback has been called (by
       pfvViewer), it will return NULL.


       ========
       <B>XML</B> <B>tags</B>
       ========



           &lt;module&gt;
               &lt;class&gt;pfvmEarthSky&lt;/class&gt;
               &lt;data&gt;
                   ...
                   parameters
                   ...

              <B>fast</B> simply clears the color and depth buffers.

              <B>tag</B> init the framebuffer to a known state very
              rapidly.  See man pfClear for the details and
              restrictions of the mode PFCL_MSDEPTH.

              <B>sky</B> causes a sky and horizon backdrop to be drawn.
              If the viewport goes below the ground plane, the
              area below the horizon will not be cleared.

              <B>skyGrnd</B> add a ground plane to the sky and horizon
              model drawn by the 'sky' mode.  This is the default
              mode.

              <B>skyClear</B> draw the sky and horizon, and clear the
              screen below the edge of the horizon.


       <B>&lt;SkyTopColor&gt;</B>float,float,float,float<B>&lt;/SkyTopColor&gt;</B> takes
       four floats representing r,g,b,a respectively.  This is
       the color of the sky directly above the viewpoint.  The
       default is: 0.0, 0.0, 0.44, 1.0.

       <B>&lt;SkyBotColor&gt;</B>float,float,float,float<B>&lt;/SkyBotColor&gt;</B> takes
       four floats representing r,g,b,a respectively.  This is
       the color of the sky where it joins the horizon.  The
       default is: 0.0, 0.4, 0.7, 1.0.

       <B>&lt;HorizColor&gt;</B>float,float,float,float<B>&lt;/HorizColor&gt;</B> takes
       four floats representing r,g,b,a respectively.  This is
       the color of the bottom edge of the horizon.  The default
       is: 0.8, 0.8, 1.0, 1.0.

       <B>&lt;GrndFarColor&gt;</B>float,float,float,float<B>&lt;/GrndFarColor&gt;</B> takes
       four floats representing r,g,b,a respectively.  This is
       the color of the ground plane where it meets the horizon.
       The default is: 0.4, 0.2, 0.0, 1.0.

       <B>&lt;GrndNearColor&gt;</B>float,float,float,float<B>&lt;/GrndNearColor&gt;</B>
       takes four floats representing r,g,b,a respectively.  This
       is the color of the ground plane directly below the
       viewer.  The default is: 0.5, 0.3, 0.0, 1.0.

       <B>&lt;CloudBotColor&gt;</B>float,float,float,float<B>&lt;/CloudBotColor&gt;</B>
       takes four floats representing r,g,b,a respectively.  This
       is the color of the bottom of the opaque cloud layer.  The
       default is: 0.8, 0.8, 0.8, 1.0.

       <B>&lt;CloudTopColor&gt;</B>float,float,float,float<B>&lt;/CloudTopColor&gt;</B>
       takes four floats representing r,g,b,a respectively.  This
       is the color of the top of the opaque cloud layer.  The
       default is: 0.8, 0.8, 0.8, 1.0.

       <B>&lt;ClearColor&gt;</B>float,float,float,float<B>&lt;/ClearColor&gt;</B> takes
       four floats representing r,g,b,a respectively.  This is
       the color for simple screen clearing.  The default is:
       0.0, 0.0, 0.0, 1.0.

       the cloud top should be.  The default is: 20000.0

       <B>&lt;CloudBot&gt;</B>float<B>&lt;/CloudBot&gt;</B> takes a float representing what
       the cloud bottom should be.  The default is: 20000.0

       <B>&lt;TZoneBot&gt;</B>float<B>&lt;/TZoneBot&gt;</B> takes a float representing what
       the transition zone bottom should be.  The default is:
       15000.0

       <B>&lt;TZoneTop&gt;</B>float<B>&lt;/TZoneTop&gt;</B> takes a float representing what
       the transition zone top should be.  The default is:
       25000.0

       <B>&lt;GrndFogTop&gt;</B>float<B>&lt;/GrndFogTop&gt;</B> takes a float representing
       what the ground fog top should be.  The default is: 1000.0

       <B>&lt;DistFactor&gt;</B>float<B>&lt;/DistFactor&gt;</B> takes a float representing
       what the distance factor should be.  The default is: 1.0


       =======
       <B>Scoping</B>
       =======

       A pfvmEarthSky module can be scoped globally, to a single
       view, or to a single world.

       If scoped to a pfvView, pfvmEarthSky module will set up
       pfEarthSky for all channels belonging to that view only,
       regardless of which pfvWorld the view is viewing.

       If scoped to a pfvWorld, pfvmEarthSky will set up pfEarth-
       Sky for all views while they view target world. note that
       when a view stops viewing pfvmEarthSky's target world,
       pfvmEarthSky will remove the pfEarthSky from channels
       belonging to such view.

       If scoped globally, pfvmEarthSky will set up pfEarthSky
       for all channels in view0 (the first view in pfvViewer's
       view-list) .




</PRE>
<H2>NOTES</H2><PRE>
       The source code for the pfvmEarthSky Module is provided
       and can be found in /usr/share/Per-
       former/src/pguide/libpfv/viewer/modules/pfvmEarthSky

       For examples of pfvViewer XML configuration files, look at
       the sample .pfv files in /usr/share/Performer/config.



</PRE>
<H2>SEE ALSO</H2><PRE>
       pfEarthSky, pfvModule, pfvViewer, pfvXml



                                                pfvmEarthSky(3pf)
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
