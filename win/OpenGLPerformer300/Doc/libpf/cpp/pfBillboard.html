<HTML>
<HEAD>
<TITLE>pfBillboard</TITLE>
</HEAD>
<BODY>
<H1>pfBillboard</H1>
<HR>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
pfBillboard(3pf)                                 pfBillboard(3pf)




</PRE>
<H2>NAME</H2><PRE>
       <B>pfBillboard</B>  -  Create and update automatic rotation bill-
       board nodes.


</PRE>
<H2>FUNCTION SPECIFICATION</H2><PRE>
       #include &lt;Performer/pf/pfBillboard.h&gt;

                         <B>pfBillboard::pfBillboard</B>();

       static pfType *   <B>pfBillboard::getClassType</B>(void);

       void              <B>pfBillboard::setPos</B>(int i,
                           const pfVec3 &amp;xyzOrigin);

       void              <B>pfBillboard::getPos</B>(int i, pfVec3 &amp;xyzO-
                           rigin);

       void              <B>pfBillboard::setPosFlux</B>(pfFlux *flux);

       pfFlux *          <B>pfBillboard::getPosFlux</B>(void);

       void              <B>pfBillboard::setMode</B>(int mode, int val);

       int               <B>pfBillboard::getMode</B>(int mode);

       void              <B>pfBillboard::setAxis</B>(const pfVec3 &amp;axis);

       void              <B>pfBillboard::getAxis</B>(pfVec3 &amp;axis);


</PRE>
<H2>PARENT CLASS FUNCTIONS</H2><PRE>
       The OpenGL Performer class <B>pfBillboard</B> is derived from the
       parent class <B>pfGeode</B>, so each of these member functions of
       class <B>pfGeode</B> are also directly  usable  with  objects  of
       class <B>pfBillboard</B>.  This is also true for ancestor classes
       of class <B>pfGeode</B>.

       int          <B>pfGeode::addGSet</B>(pfGeoSet* gset);
       int          <B>pfGeode::removeGSet</B>(pfGeoSet* gset);
       int          <B>pfGeode::insertGSet</B>(int index,
                      pfGeoSet* gset);
       int          <B>pfGeode::replaceGSet</B>(pfGeoSet* old,
                      pfGeoSet* new);
       pfGeoSet *   <B>pfGeode::getGSet</B>(int index);
       int          <B>pfGeode::getNumGSets</B>(void);


       Since the class <B>pfGeode</B> is itself derived from the  parent
       class  <B>pfNode</B>,  objects  of  class <B>pfBillboard</B> can also be
       used with these functions designed for  objects  of  class
       <B>pfNode</B>.

       pfGroup *      <B>pfNode::getParent</B>(int i);
       int            <B>pfNode::getNumParents</B>(void);
       void           <B>pfNode::setBound</B>(pfSphere *bsph, int mode);
       int            <B>pfNode::getBound</B>(pfSphere *bsph);
                        pfType *type);
       pfNode*        <B>pfNode::lookup</B>(const char *name,
                        pfType* type);
       int            <B>pfNode::isect</B>(pfSegSet *segSet,
                        pfHit **hits[]);
       void           <B>pfNode::setTravMask</B>(int which,   uint mask,
                        int setMode, int bitOp);
       uint           <B>pfNode::getTravMask</B>(int which);
       void           <B>pfNode::setTravFuncs</B>(int which, pfNodeTrav-
                        FuncType pre, pfNodeTravFuncType post);
       void           <B>pfNode::getTravFuncs</B>(int which, pfNodeTrav-
                        FuncType *pre,          pfNodeTravFunc-
                        Type *post);
       void           <B>pfNode::setTravData</B>(int which, void *data);
       void *         <B>pfNode::getTravData</B>(int which);
       void           <B>pfNode::setTravMode</B>(int which,    int mode,
                        int val);
       int            <B>pfNode::getTravMode</B>(int which,
                        int mode) const;


       Since the class <B>pfNode</B> is itself derived from  the  parent
       class  <B>pfObject</B>,  objects of class <B>pfBillboard</B> can also be
       used with these functions designed for  objects  of  class
       <B>pfObject</B>.

       void*   <B>pfObject::operator</B> <B>new</B>(size_t);
       void*   <B>pfObject::operator</B> <B>new</B>(size_t, void *arena);
       void*   <B>pfObject::operator</B>      <B>new</B>(size_t,     pfFluxMem-
                 ory *fmem);
       void    <B>pfObject::setUserData</B>(void *data);
       void    <B>pfObject::setUserData</B>(int slot, void *data);
       void*   <B>pfObject::getUserData</B>(pfObject *obj);
       void*   <B>pfObject::getUserData</B>(pfObject *obj, int slot);
       int     <B>pfObject::getNumUserData</B>();


       Since the class <B>pfObject</B> is itself derived from the parent
       class  <B>pfMemory</B>,  objects of class <B>pfBillboard</B> can also be
       used with these functions designed for  objects  of  class
       <B>pfMemory</B>.

       void*          <B>pfMemory::getData</B>(const void *ptr);
       pfType *       <B>pfMemory::getType</B>();
       int            <B>pfMemory::isOfType</B>(pfType *type);
       int            <B>pfMemory::isExactType</B>(pfType *type);
       const char *   <B>pfMemory::getTypeName</B>();
       int            <B>pfMemory::copy</B>(pfMemory *src);
       int            <B>pfMemory::compare</B>(const pfMemory *mem);
       void           <B>pfMemory::print</B>(uint which,   uint verbose,
                        char *prefix, FILE *file);
       int            <B>pfMemory::getArena</B>(void *ptr);
       void*          <B>pfMemory::getArena</B>();
       int            <B>pfMemory::ref</B>();
       int            <B>pfMemory::unref</B>();
       int            <B>pfMemory::unrefDelete</B>();
       int            <B>pfMemory::unrefGetRef</B>();
       int            <B>pfMemory::getRef</B>();
       int            <B>pfMemory::checkDelete</B>();
       objects which are roughly symmetrical about  one  or  more
       axes.   The  billboard tracks the viewer by rotating about
       an axis or a point to present the same image to the viewer
       using  far  fewer  polygons than a solid model.  A classic
       example is a textured billboard of a single  quadrilateral
       representing a tree.

       A   pfBillboard  can  contain  any  number  of  pfGeoSets.
       pfGeoSets are added to and removed  from  the  pfBillboard
       using  the  <B>pfGeode::addGSet</B>  and <B>pfGeode::removeGSet</B> rou-
       tines used with pfGeodes.  Each pfGeoSet rotates  indepen-
       dently  to follow the viewer.  By convention, the pfGeoSet
       is rotated about the +Z axis so that the  +Y  axis  points
       towards the eye point.

       <B>new</B>  <B>pfBillboard</B> creates and returns a handle to a pfBill-
       board.  Like other pfNodes, pfBillboards are always  allo-
       cated from shared memory and cannot be created statically,
       on the stack or in arrays.  pfBillboards should be deleted
       using <B>pfDelete</B> rather than the delete operator.

       <B>pfBillboard::getClassType</B>  returns  the  <B>pfType</B>*  for  the
       class    <B>pfBillboard</B>.     The    <B>pfType</B>*    returned    by
       <B>pfBillboard::getClassType</B>  is  the  same  as  the  <B>pfType</B>*
       returned by invoking the virtual function <B>getType</B>  on  any
       instance  of  class <B>pfBillboard</B>.  Because OpenGL Performer
       allows subclassing of built-in types, when  decisions  are
       made  based on the type of an object, it is usually better
       to use  the member function <B>isOfType</B> to test if an  object
       is  of a type derived from a Performer type rather than to
       test for strict equality of the <B>pfType</B>*'s.

       <B>pfBboardPos</B>  specifies  the  position  <I>xyzOrigin</I>  for  the
       pfGeoSet  with  index  <I>i</I>.   <B>pfBillboard::getPos</B> copies the
       position of the pfGeoSet with index <I>i</I> into <I>xyzOrigin</I>.

       Billboards can either rotate about an axis or a point.

       Axial  billboards  rotate  about  the  axis  specified  by
       <B>pfBillboard::setAxis</B>.   The  rotation  is about the origin
       (0,0,0) of the pfGeoSet.  In all cases,  the  geometry  is
       modeled  in the XZ plane, with +Y forward.  When rendered,
       the billboard is rotated so that the -Y axis  points  back
       to  the  eye point.  The +Z axis is the pfGeoSet's axis of
       rotation.  An axial rotate billboard is specified by  set-
       ting  the  <B>PFBB_ROT</B>  <I>mode</I>  of  the  billboard to the <I>value</I>
       <B>PFBB_AXIAL_ROT</B> using <B>pfBillboard::setMode</B>.   The  axis  of
       rotation     (<I>x</I>,     <I>y</I>,     <I>z</I>)    is    specified    using
       <B>pfBillboard::setAxis</B>.   <B>pfBillboard::getAxis</B>  returns  the
       axis of the pfBillboard.

       Point  rotate  billboards are useful for spherical objects
       or special effects such as smoke.  They come in two  vari-
       eties  depending on how the remaining rotational degree of
       freedom is determined (rotating the -Y  axis  towards  the
       eye,   still   leaves  an  arbitrary  rotation  about  the
       pfGeoSet's Y axis).

              If the <B>PFBB_ROT</B> mode on the  billboard  is  set  to
              If the <B>PFBB_ROT</B> mode on the  billboard  is  set  to
              <B>PFBB_POINT_ROT_WORLD</B>,  the  billboard is rotated so
              that the angle between the +Z axis of the  pfGeoSet
              and  axis  specified  with <B>pfBillboard::setAxis</B> (in
              world space) is minimized.

       Both <B>PFBB_AXIAL_ROT</B>  and  <B>PFBB_POINT_ROT_WORLD</B>  billboards
       may  "spin"  about  the Y axis of the pfGeoSet when viewed
       along the rotation or alignment axis.

       <B>pfBillboard::setPosFlux</B> will set a pfFlux to  be  used  to
       contain  the  xyz  origins  of  all  the pfGeoSets under a
       pfBillboard node.  The data size of position  flux  should
       be  equal to the number of pfGeoSets under the pfBillboard
       multiplied by the size of pfVec3.  Having the origins in a
       flux  allows you to animate the origins to align them to a
       pfASD.  <B>pfBillboard::getPosFlux</B> returns the current  posi-
       tion flux is there is one.

       After  the first <B>pfSync</B>, the number of pfGeoSets, the num-
       ber and length of the primitives,  and  planarity  of  the
       vertices should not be changed.

       Some  database  formats  may  place a transformation above
       each billboard for positioning it.  As with a pfGeode con-
       taining a small amount of geometry, having many billboards
       with transformation matrices above them can be  expensive.

       Since billboards always rotate towards the eyepoint, bill-
       boards in adjacent channels with the  same  eyepoint  have
       the  same  orientation.  Channels with different eyepoints
       will have different billboard orientations.


</PRE>
<H2>BUGS</H2><PRE>
       Intersection traversals test only the pfBillboard's bound-
       ing volume, not its individual pfGeoSets.

       pfFlatten only transforms the position of a billboard, not
       the axis and applies only a uniform scale to the billboard
       geometry.


</PRE>
<H2>SEE ALSO</H2><PRE>
       pfChannel,  pfGeode,  pfNode,  pfFlux,  pfScene,  pfTrans-
       parency, pfDelete



                                                 pfBillboard(3pf)
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
